{"version":3,"sources":["../../../client/components/layout-router.tsx"],"names":["React","useContext","useEffect","useRef","use","LayoutRouterContext","GlobalLayoutRouterContext","TemplateContext","AppRouterContext","fetchServerResponse","createInfinitePromise","ErrorBoundary","matchSegment","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","hasOwnProperty","subTree","undefined","slice","topOfElementInViewport","element","rect","getBoundingClientRect","top","InnerLayoutRouter","parallelRouterKey","url","childNodes","childProp","segmentPath","tree","path","rootLayoutIncluded","changeByServerResponse","fullTree","focusAndScrollRef","focusAndScrollElementRef","apply","current","focus","htmlElement","document","documentElement","existing","style","scrollBehavior","scrollIntoView","childNode","get","set","data","subTreeData","parallelRoutes","Map","refetchTree","URL","location","origin","Error","flightData","overrideCanonicalUrl","window","href","setTimeout","startTransition","subtree","Provider","value","div","ref","LoadingBoundary","children","loading","hasLoading","Suspense","fallback","HandleRedirect","redirect","router","replace","RedirectErrorBoundary","Component","getDerivedStateFromError","error","digest","startsWith","split","render","state","props","constructor","RedirectBoundary","NotFoundErrorBoundary","notFoundTriggered","meta","name","content","notFound","NotFoundBoundary","OuterLayoutRouter","template","childNodesForParallelRouter","treeSegment","childPropSegment","Array","isArray","currentChildSegment","preservedSegments","map","preservedSegment","key","errorComponent","isActive"],"mappings":"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"}
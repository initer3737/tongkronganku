{"version":3,"sources":["../../../../build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["stringify","path","webpack","sources","getInvalidator","entries","EntryTypes","APP_DIR_ALIAS","WEBPACK_LAYERS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","FLIGHT_SERVER_CSS_MANIFEST","ASYNC_CLIENT_MODULES","isClientComponentModule","regexCSS","traverseModules","PLUGIN_NAME","injectedClientEntries","Map","serverModuleIds","edgeServerModuleIds","flightCSSManifest","FlightClientEntryPlugin","constructor","options","dev","isEdgeServer","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","mod","request","resource","buildInfo","rsc","moduleGraph","isAsync","add","recordModule","modId","modResource","resourceResolveData","context","issuerLayer","client","ssrNamedModuleId","relative","startsWith","replace","_chunk","_chunkGroup","promises","forEachEntryModule","callback","name","entry","entryDependency","entryModule","getResolvedModule","forEach","dependency","modRequest","includes","internalClientComponentEntryImports","Set","connection","getOutgoingConnections","layoutOrPageDependency","layoutOrPageRequest","clientComponentImports","collectClientComponentsAndCSSForDependency","isAbsoluteRequest","value","relativeRequest","bundlePath","push","injectClientEntryAndSSRModules","entryName","afterOptimizeModules","cssImportsForChunk","collectModule","test","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","__entry_css__","Object","assign","cssImports","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","manifest","JSON","RawSource","res","Promise","all","invalidator","invalidate","visitedBySegment","serverCSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","rawRequest","isCSS","isLocal","query","has","isClientComponent","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","shouldInvalidate","loaderOptions","server","clientLoader","map","importPath","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","layer","resolve","reject","get","includeDependencies","call","addModuleTree","contextInfo","err","module","failedEntry","succeedEntry"],"mappings":"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"}